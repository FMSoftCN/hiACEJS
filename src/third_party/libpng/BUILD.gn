# Copyright (c) 2020 FMSoft.

config("libpng_config") {
  include_dirs = [
    ".",
  ]
}

shared_library("libpng") {
  sources = [
    "arm/arm_init.c",
    "arm/filter_neon_intrinsics.c",
    "arm/palette_neon_intrinsics.c",
    "png.c",
    "pngerror.c",
    "pngget.c",
    "pngmem.c",
    "pngpread.c",
    "pngread.c",
    "pngrio.c",
    "pngrtran.c",
    "pngrutil.c",
    "pngset.c",
    "pngtrans.c",
    "pngwio.c",
    "pngwrite.c",
    "pngwtran.c",
    "pngwutil.c",
  ]

  public_configs = [
    ":libpng_config",
  ]
  deps = [
    "//third_party/zlib:zlib_shared",
  ]
}
